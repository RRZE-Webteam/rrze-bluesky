"use strict";(self.webpackChunkrrze_elements=self.webpackChunkrrze_elements||[]).push([[124],{124:function(t,e,i){i.r(e),i.d(e,{CaptionsRenderer:function(){return n.C},ParseError:function(){return n.P},ParseErrorCode:function(){return n.c},TextCue:function(){return n.T},VTTCue:function(){return n.b},VTTRegion:function(){return n.h},createVTTCueTemplate:function(){return n.i},parseByteStream:function(){return n.e},parseResponse:function(){return n.d},parseText:function(){return n.f},parseTextStream:function(){return n.g},parseVTTTimestamp:function(){return n.p},renderVTTCueString:function(){return n.r},renderVTTTokensString:function(){return n.j},tokenizeVTTCue:function(){return n.t},updateTimedVTTCueNodes:function(){return n.u}});var n=i(179)},179:function(t,e,i){i.d(e,{C:function(){return ft},P:function(){return r},T:function(){return f},V:function(){return S},a:function(){return j},b:function(){return g},c:function(){return n},d:function(){return h},e:function(){return u},f:function(){return c},g:function(){return l},h:function(){return m},i:function(){return Y},j:function(){return G},p:function(){return $},r:function(){return D},t:function(){return P},u:function(){return J}});const n={LoadFail:0,BadSignature:1,BadTimestamp:2,BadSettingValue:3,BadFormat:4,UnknownSetting:5};class r extends Error{code;line;constructor(t){super(t.reason),this.code=t.code,this.line=t.line}}const s=/\r?\n|\r/gm;class o{writable;readable;constructor(t){const e=new a(t);this.writable=new WritableStream({write(t){e.transform(t)},close(){e.close()}}),this.readable=new ReadableStream({start(t){e.onLine=e=>t.enqueue(e),e.onClose=()=>t.close()}})}}class a{a="";b;onLine;onClose;constructor(t){this.b=new TextDecoder(t)}transform(t){this.a+=this.b.decode(t,{stream:!0});const e=this.a.split(s);this.a=e.pop()||"";for(let t=0;t<e.length;t++)this.onLine(e[t].trim())}close(){this.a&&this.onLine(this.a.trim()),this.a="",this.onClose()}}async function c(t,e){return l(new ReadableStream({start(e){const i=t.split(s);for(const t of i)e.enqueue(t);e.close()}}),e)}async function l(t,e){const n=e?.type??"vtt";let r,s;if("string"==typeof n)switch(n){case"srt":r=(await i.e(666).then(i.bind(i,666))).default;break;case"ssa":case"ass":r=(await i.e(292).then(i.bind(i,292))).default;break;default:r=(await Promise.resolve().then((function(){return M}))).default}else r=n;const o=t.getReader(),a=r(),c=!!e?.strict||!!e?.errors;await a.init({strict:!1,...e,errors:c,type:n,cancel(){o.cancel(),s=a.done(!0)}});let l=1;for(;;){const{value:t,done:e}=await o.read();if(e){a.parse("",l),s=a.done(!1);break}a.parse(t,l),l++}return s}async function h(t,e){const i=await t;if(!i.ok||!i.body){let t;return{metadata:{},cues:[],regions:[],errors:[t]}}const n=i.headers.get("content-type")||"",r=n.match(/text\/(.*?)(?:;|$)/)?.[1],s=n.match(/charset=(.*?)(?:;|$)/)?.[1];return u(i.body,{type:r,encoding:s,...e})}async function u(t,{encoding:e="utf-8",...i}={}){return l(t.pipeThrough(new o(e)),i)}class f extends EventTarget{id="";startTime;endTime;text;pauseOnExit=!1;constructor(t,e,i){super(),this.startTime=t,this.endTime=e,this.text=i}addEventListener(t,e,i){super.addEventListener(t,e,i)}removeEventListener(t,e,i){super.removeEventListener(t,e,i)}}const d="undefined"==typeof document,p=d?f:window.VTTCue;class g extends p{region=null;vertical="";snapToLines=!0;line="auto";lineAlign="start";position="auto";positionAlign="auto";size=100;align="center";style}class m{id="";width=100;lines=3;regionAnchorX=0;regionAnchorY=100;viewportAnchorX=0;viewportAnchorY=100;scroll=""}function b(t){const e=parseInt(t,10);return Number.isNaN(e)?null:e}function w(t){const e=parseInt(t.replace("%",""),10);return!Number.isNaN(e)&&e>=0&&e<=100?e:null}function y(t){if(!t.includes(","))return null;const[e,i]=t.split(",").map(w);return null!==e&&null!==i?[e,i]:null}function v(t){const e=parseFloat(t);return Number.isNaN(e)?null:e}const T=/[:=]/,k=/^[\s\t]*(region|vertical|line|position|size|align)[:=]/,x=/^REGION:?[\s\t]+/,A=/[\s\t]+/,C=/[\s\t]*-->[\s\t]+/,E=/start|center|end|left|right/,N=/start|center|end/,z=/line-(?:left|right)|center|auto/,L=/^(?:(\d{1,2}):)?(\d{2}):(\d{2})(?:\.(\d{1,3}))?$/;var j=(t=>(t[t.None=0]="None",t[t.Header=1]="Header",t[t.Cue=2]="Cue",t[t.Region=3]="Region",t[t.Note=4]="Note",t))(j||{});class S{h;e=0;i={};j={};l=[];c=null;d=null;m=[];f;n="";async init(t){this.h=t,t.strict&&(this.e=1),t.errors&&(this.f=(await i.e(676).then(i.bind(i,676))).ParseErrorBuilder)}parse(t,e){if(""===t)this.c?(this.l.push(this.c),this.h.onCue?.(this.c),this.c=null):this.d?(this.j[this.d.id]=this.d,this.h.onRegion?.(this.d),this.d=null):1===this.e&&(this.k(t,e),this.h.onHeaderMetadata?.(this.i)),this.e=0;else if(this.e)switch(this.e){case 1:this.k(t,e);break;case 2:if(this.c){const i=this.c.text.length>0;!i&&k.test(t)?this.o(t.split(A),e):this.c.text+=(i?"\n":"")+t}break;case 3:this.p(t.split(A),e)}else if(t.startsWith("NOTE"))this.e=4;else if(t.startsWith("REGION"))this.e=3,this.d=new m,this.p(t.replace(x,"").split(A),e);else if(t.includes("--\x3e")){const i=this.q(t,e);i&&(this.c=new g(i[0],i[1],""),this.c.id=this.n,this.o(i[2],e)),this.e=2}else 1===e&&this.k(t,e);this.n=t}done(){return{metadata:this.i,cues:this.l,regions:Object.values(this.j),errors:this.m}}k(t,e){if(e>1){if(T.test(t)){const[e,i]=t.split(T);e&&(this.i[e]=(i||"").replace(A,""))}}else t.startsWith("WEBVTT")?this.e=1:this.g(this.f?.r())}q(t,e){const[i,n=""]=t.split(C),[r,...s]=n.split(A),o=$(i),a=$(r);if(null!==o&&null!==a&&a>o)return[o,a,s];null===o&&this.g(this.f?.s(i,e)),null===a&&this.g(this.f?.t(r,e)),null!=o&&null!==a&&a>o&&this.g(this.f?.u(o,a,e))}p(t,e){let i;for(let n=0;n<t.length;n++)if(T.test(t[n])){i=!1;const[r,s]=t[n].split(T);switch(r){case"id":this.d.id=s;break;case"width":const t=w(s);null!==t?this.d.width=t:i=!0;break;case"lines":const n=b(s);null!==n?this.d.lines=n:i=!0;break;case"regionanchor":const o=y(s);null!==o?(this.d.regionAnchorX=o[0],this.d.regionAnchorY=o[1]):i=!0;break;case"viewportanchor":const a=y(s);null!==a?(this.d.viewportAnchorX=a[0],this.d.viewportAnchorY=a[1]):i=!0;break;case"scroll":"up"===s?this.d.scroll="up":i=!0;break;default:this.g(this.f?.v(r,s,e))}i&&this.g(this.f?.w(r,s,e))}}o(t,e){let i;for(let n=0;n<t.length;n++)if(i=!1,T.test(t[n])){const[r,s]=t[n].split(T);switch(r){case"region":const t=this.j[s];t&&(this.c.region=t);break;case"vertical":"lr"===s||"rl"===s?(this.c.vertical=s,this.c.region=null):i=!0;break;case"line":const[n,o]=s.split(",");if(n.includes("%")){const t=w(n);null!==t?(this.c.line=t,this.c.snapToLines=!1):i=!0}else{const t=v(n);null!==t?this.c.line=t:i=!0}N.test(o)?this.c.lineAlign=o:o&&(i=!0),"auto"!==this.c.line&&(this.c.region=null);break;case"position":const[a,c]=s.split(","),l=w(a);null!==l?this.c.position=l:i=!0,c&&z.test(c)?this.c.positionAlign=c:c&&(i=!0);break;case"size":const h=w(s);null!==h?(this.c.size=h,h<100&&(this.c.region=null)):i=!0;break;case"align":E.test(s)?this.c.align=s:i=!0;break;default:this.g(this.f?.x(r,s,e))}i&&this.g(this.f?.y(r,s,e))}}g(t){if(t){if(this.m.push(t),this.h.strict)throw this.h.cancel(),t;this.h.onError?.(t)}}}function $(t){const e=t.match(L);if(!e)return null;const i=e[1]?parseInt(e[1],10):0,n=parseInt(e[2],10),r=parseInt(e[3],10),s=e[4]?parseInt(e[4].padEnd(3,"0"),10):0;return i<0||n<0||r<0||s<0||n>59||r>59?null:3600*i+60*n+r+s/1e3}var M=Object.freeze({__proto__:null,VTTBlock:j,VTTParser:S,default:function(){return new S},parseVTTTimestamp:$});const V=/[0-9]/,B=/[\s\t]+/,H={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span",timestamp:"span"},R={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},F=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,I=new Set(["white","lime","cyan","red","yellow","magenta","blue","black"]),O=new Set(Object.keys(H));function P(t){let e,i="",n=1,r=[],s=[];for(let r=0;r<t.text.length;r++){const l=t.text[r];switch(n){case 1:"<"===l?(c(),n=2):i+=l;break;case 2:switch(l){case"\n":case"\t":case" ":o(),n=4;break;case".":o(),n=3;break;case"/":n=5;break;case">":o(),n=1;break;default:!i&&V.test(l)&&(n=6),i+=l}break;case 3:switch(l){case"\t":case" ":case"\n":a(),e&&e.class?.trim(),n=4;break;case".":a();break;case">":a(),e&&e.class?.trim(),n=1;break;default:i+=l}break;case 4:">"===l?(i=i.replace(B," "),"v"===e?.type?e.voice=q(i):"lang"===e?.type&&(e.lang=q(i)),i="",n=1):i+=l;break;case 5:">"===l&&(i="",e=s.pop(),n=1);break;case 6:if(">"===l){const r=$(i);null!==r&&r>=t.startTime&&r<=t.endTime&&(i="timestamp",o(),e.time=r),i="",n=1}else i+=l}}function o(){if(O.has(i)){const n=e;e={tagName:H[t=i],type:t,children:[]},n?(s[s.length-1]!==n&&s.push(n),n.children.push(e)):r.push(e)}var t;i="",n=1}function a(){if(e&&i){const t=i.replace("bg_","");I.has(t)?e[i.startsWith("bg_")?"bgColor":"color"]=t:e.class=e.class?e.class+" "+i:i}i=""}function c(){if(!i)return;const t={type:"text",data:q(i)};e?e.children.push(t):r.push(t),i=""}return 1===n&&c(),r}function q(t){return t.replace(F,(t=>R[t]||"'"))}function W(t,e,i){t.style.setProperty(`--${e}`,i+"")}function _(t,e,i=!0){t.setAttribute(`data-${e}`,!0===i?"":i+"")}function X(t,e){t.setAttribute("data-part",e)}function Y(t){if(d)throw Error("[media-captions] called `createVTTCueTemplate` on the server - use `renderVTTCueString`");const e=document.createElement("template");return e.innerHTML=D(t),{cue:t,content:e.content}}function D(t,e=0){return G(P(t),e)}function G(t,e=0){let i,n="";for(const r of t)if("text"===r.type)n+=r.data;else{const t="timestamp"===r.type;i={},i.class=r.class,i.title="v"===r.type&&r.voice,i.lang="lang"===r.type&&r.lang,i["data-part"]="v"===r.type&&"voice",t&&(i["data-part"]="timed",i["data-time"]=r.time,i["data-future"]=r.time>e,i["data-past"]=r.time<e),i.style=`${r.color?`color: ${r.color};`:""}${r.bgColor?`background-color: ${r.bgColor};`:""}`;const s=Object.entries(i).filter((t=>t[1])).map((t=>`${t[0]}="${!0===t[1]?"":t[1]}"`)).join(" ");n+=`<${r.tagName}${s?" "+s:""}>${G(r.children)}</${r.tagName}>`}return n}function J(t,e){if(!d)for(const i of t.querySelectorAll('[data-part="timed"]')){const t=Number(i.getAttribute("data-time"));Number.isNaN(t)||(t>e?_(i,"future"):i.removeAttribute("data-future"),t<e?_(i,"past"):i.removeAttribute("data-past"))}}const K=Symbol(0);function U(t){return t instanceof HTMLElement?{top:t.offsetTop,width:t.clientWidth,height:t.clientHeight,left:t.offsetLeft,right:t.offsetLeft+t.clientWidth,bottom:t.offsetTop+t.clientHeight}:{...t}}function Q(t,e,i){switch(e){case"+x":t.left+=i,t.right+=i;break;case"-x":t.left-=i,t.right-=i;break;case"+y":t.top+=i,t.bottom+=i;break;case"-y":t.top-=i,t.bottom-=i}}function Z(t,e){for(let r=0;r<e.length;r++)if(i=t,n=e[r],i.left<=n.right&&i.right>=n.left&&i.top<=n.bottom&&i.bottom>=n.top)return e[r];var i,n;return null}function tt(t,e){return e.top>=0&&e.bottom<=t.height&&e.left>=0&&e.right<=t.width}function et(t,e,i){switch(i){case"+x":return e.left<0;case"-x":return e.right>t.width;case"+y":return e.top<0;case"-y":return e.bottom>t.height}}function it(t,e){return Math.max(0,Math.min(t.width,e.right)-Math.max(0,e.left))*Math.max(0,Math.min(t.height,e.bottom)-Math.max(0,e.top))/(t.height*t.width)}function nt(t,e){return{top:e.top/t.height,left:e.left/t.width,right:(t.width-e.right)/t.width,bottom:(t.height-e.bottom)/t.height}}function rt(t,e){return e.top=e.top*t.height,e.left=e.left*t.width,e.right=t.width-e.right*t.width,e.bottom=t.height-e.bottom*t.height,e}const st=["top","left","right","bottom"];function ot(t,e,i,n){const r=nt(e,i);for(const e of st)W(t,`${n}-${e}`,100*r[e]+"%")}function at(t,e,i,n){let r,s=1,o={...e};for(let a=0;a<n.length;a++){for(;et(t,e,n[a])||tt(t,e)&&Z(e,i);)Q(e,n[a],1);if(tt(t,e))return e;const c=it(t,e);s>c&&(r={...e},s=c),e={...o}}return r||o}const ct=Symbol(0);function lt(t,e,i,n){let r,s=i.firstElementChild,o=function(t){return"auto"===t.line?t.snapToLines?-1:100:t.line}(e),a=[];if(i[K]||(i[K]=function(t,e){const i=U(e),n=function(t){const e={};for(const i of st)e[i]=parseFloat(t.style.getPropertyValue(`--cue-${i}`));return e}(e);if(e[ct]=!1,n.top&&(i.top=n.top,i.bottom=n.top+i.height,e[ct]="top"),n.bottom){const r=t.height-n.bottom;i.top=r-i.height,i.bottom=r,e[ct]="bottom"}return n.left&&(i.left=n.left),n.right&&(i.right=t.width-n.right),nt(t,i)}(t,i)),r=rt(t,{...i[K]}),i[ct])a=["top"===i[ct]?"+y":"-y","+x","-x"];else if(e.snapToLines){let i;switch(e.vertical){case"":a=["+y","-y"],i="height";break;case"rl":a=["+x","-x"],i="width";break;case"lr":a=["-x","+x"],i="width"}let n=parseFloat(getComputedStyle(s).lineHeight)||0,c=n*Math.round(o),l=t[i]+n,h=a[0];Math.abs(c)>l&&(c=c<0?-1:1,c*=Math.ceil(l/n)*n),o<0&&(c+=""===e.vertical?t.height:t.width,a=a.reverse()),Q(r,h,c)}else{const i=""===e.vertical,n=i?"+y":"+x",s=i?r.height:r.width;Q(r,n,(i?t.height:t.width)*o/100),Q(r,n,"center"===e.lineAlign?s/2:"end"===e.lineAlign?s:0),a=i?["-y","+y","-x","+x"]:["-x","+x","-y","+y"]}return r=at(t,r,n,a),ot(i,t,r,"cue"),r}const ht=["-y","+y","-x","+x"];function ut(t,e,i,n){let r=Array.from(i.querySelectorAll('[data-part="cue-display"]')),s=0,o=Math.max(0,r.length-e.lines);for(let t=r.length-1;t>=o;t--)s+=r[t].offsetHeight;W(i,"region-height",s+"px"),i[K]||(i[K]=nt(t,U(i)));let a={...i[K]};return a=rt(t,a),a.width=i.clientWidth,a.height=s,a.right=a.left+a.width,a.bottom=a.top+s,a=at(t,a,n,ht),ot(i,t,a,"region"),a}class ft{overlay;z;A=0;C="ltr";B=[];D=!1;E;j=new Map;l=new Map;get dir(){return this.C}set dir(t){this.C=t,_(this.overlay,"dir",t)}get currentTime(){return this.A}set currentTime(t){this.A=t,this.update()}constructor(t,e){this.overlay=t,this.dir=e?.dir??"ltr",t.setAttribute("translate","yes"),t.setAttribute("aria-live","off"),t.setAttribute("aria-atomic","true"),X(t,"captions"),this.G(),this.E=new ResizeObserver(this.I.bind(this)),this.E.observe(t)}changeTrack({regions:t,cues:e}){this.reset(),this.J(t);for(const t of e)this.l.set(t,null);this.update()}addCue(t){this.l.set(t,null),this.update()}removeCue(t){this.l.delete(t),this.update()}update(t=!1){this.H(t)}reset(){this.l.clear(),this.j.clear(),this.B=[],this.overlay.textContent=""}destroy(){this.reset(),this.E.disconnect()}I(){this.D=!0,this.K()}K=function(t){let e,i=null;function n(){r(),t(...e),e=void 0}function r(){clearTimeout(i),i=null}return function(){e=[].slice.call(arguments),r(),i=setTimeout(n,50)}}((()=>{this.D=!1,this.G();for(const t of this.j.values())t[K]=null;for(const t of this.l.values())t&&(t[K]=null);this.H(!0)}));G(){this.z=U(this.overlay),W(this.overlay,"overlay-width",this.z.width+"px"),W(this.overlay,"overlay-height",this.z.height+"px")}H(t=!1){if(!this.l.size||this.D)return;let e,i=[...this.l.keys()].filter((t=>this.A>=t.startTime&&this.A<=t.endTime)).sort(((t,e)=>t.startTime!==e.startTime?t.startTime-e.startTime:t.endTime-e.endTime)),n=i.map((t=>t.region));for(let r=0;r<this.B.length;r++){if(e=this.B[r],i[r]===e)continue;if(e.region&&!n.includes(e.region)){const i=this.j.get(e.region.id);i&&(i.removeAttribute("data-active"),t=!0)}const s=this.l.get(e);s&&(s.remove(),t=!0)}for(let n=0;n<i.length;n++){e=i[n];let r=this.l.get(e);r||this.l.set(e,r=this.L(e));const s=this.F(e)&&this.j.get(e.region.id);s&&!s.hasAttribute("data-active")&&(requestAnimationFrame((()=>_(s,"active"))),t=!0),r.isConnected||((s||this.overlay).append(r),t=!0)}if(t){const t=[],n=new Set;for(let r=i.length-1;r>=0;r--){if(e=i[r],n.has(e.region||e))continue;const s=this.F(e),o=s?this.j.get(e.region.id):this.l.get(e);s?t.push(ut(this.z,e.region,o,t)):t.push(lt(this.z,e,o,t)),n.add(s?e.region:e)}}J(this.overlay,this.A),this.B=i}J(t){if(t)for(const e of t){const t=this.M(e);this.j.set(e.id,t),this.overlay.append(t)}}M(t){const e=document.createElement("div");return X(e,"region"),_(e,"id",t.id),_(e,"scroll",t.scroll),W(e,"region-width",t.width+"%"),W(e,"region-anchor-x",t.regionAnchorX),W(e,"region-anchor-y",t.regionAnchorY),W(e,"region-viewport-anchor-x",t.viewportAnchorX),W(e,"region-viewport-anchor-y",t.viewportAnchorY),W(e,"region-lines",t.lines),e}L(t){const e=document.createElement("div"),i=function(t){if("auto"===t.position)switch(t.align){case"start":case"left":return 0;case"right":case"end":return 100;default:return 50}return t.position}(t),n=function(t,e){if("auto"===t.positionAlign)switch(t.align){case"start":return"ltr"===e?"line-left":"line-right";case"end":return"ltr"===e?"line-right":"line-left";case"center":return"center";default:return`line-${t.align}`}return t.positionAlign}(t,this.C);if(X(e,"cue-display"),""!==t.vertical&&_(e,"vertical"),W(e,"cue-text-align",t.align),t.style)for(const i of Object.keys(t.style))e.style.setProperty(i,t.style[i]);if(this.F(t))W(e,"cue-offset",i-("line-right"===n?100:"center"===n?50:0)+"%");else if(W(e,"cue-writing-mode",""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl"),!t.style?.["--cue-width"]){let r=i;"line-left"===n?r=100-i:"center"===n&&i<=50?r=2*i:"center"===n&&i>50&&(r=2*(100-i));const s=t.size<r?t.size:r;""===t.vertical?W(e,"cue-width",s+"%"):W(e,"cue-height",s+"%")}const r=document.createElement("div");return X(r,"cue"),t.id&&_(r,"id",t.id),r.innerHTML=D(t),e.append(r),e}F(t){return t.region&&100===t.size&&""===t.vertical&&"auto"===t.line}}}}]);