!function(){"use strict";var e={n:function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(r,{a:r}),r},d:function(s,r){for(var t in r)e.o(r,t)&&!e.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:r[t]})},o:function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}},s=window.ReactJSXRuntime,r=window.wp.blocks,t=window.wp.blockEditor;function n(e,s){(null==s||s>e.length)&&(s=e.length);for(var r=0,t=Array(s);r<s;r++)t[r]=e[r];return t}function l(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,n,l,i,c=[],a=!0,o=!1;try{if(l=(r=r.call(e)).next,0===s){if(Object(r)!==r)return;a=!1}else for(;!(a=(t=l.call(r)).done)&&(c.push(t.value),c.length!==s);a=!0);}catch(e){o=!0,n=e}finally{try{if(!a&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(o)throw n}}return c}}(e,s)||function(e,s){if(e){if("string"==typeof e)return n(e,s);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,s):void 0}}(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=window.wp.i18n,c=window.wp.element,a=window.wp.apiFetch,o=e.n(a);function d(e){return"https://bsky.app/profile/".concat(e)}function h(e,s){var r=s.split("/").pop()||"";return"https://bsky.app/profile/".concat(e,"/post/").concat(r)}function u(){var e,r=l((0,c.useState)(null),2),t=r[0],n=r[1],a=l((0,c.useState)(null),2),u=a[0],x=a[1],f=l((0,c.useState)(!1),2),p=f[0],m=f[1];return(0,c.useEffect)((function(){m(!0),o()({path:"/rrze-bluesky/v1/public-timeline"}).then((function(e){n(e),x(null)})).catch((function(e){x(e)})).finally((function(){m(!1)}))}),[]),p?(0,s.jsx)("p",{children:"Loading feed data..."}):u?(0,s.jsxs)("p",{children:["Error: ",u.message]}):t&&(null===(e=t.feed)||void 0===e?void 0:e.length)?(0,s.jsx)("div",{className:"bsky-public-timeline",children:t.feed.map((function(e,r){var t=e.post,n=t.uri,l=t.cid,c=t.author,a=t.record,o=t.embed,u=t.replyCount,x=t.repostCount,f=t.likeCount;return(0,s.jsxs)("article",{className:"bsky-post",children:[(0,s.jsxs)("header",{children:[(0,s.jsxs)("div",{className:"author-information",children:[(0,s.jsx)("a",{href:d(c.handle),children:(0,s.jsx)("img",{src:c.avatar,alt:c.displayName})}),(0,s.jsxs)("div",{className:"author-name",children:[(0,s.jsx)("h3",{children:(0,s.jsx)("a",{href:d(c.handle),children:c.displayName})}),(0,s.jsx)("p",{children:(0,s.jsxs)("a",{href:d(c.handle),children:["@",c.handle]})})]})]}),(0,s.jsx)("div",{className:"bsky-branding",children:(0,s.jsx)("a",{href:d(c.handle),children:(0,s.jsxs)("svg",{className:"bsky-logo",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 568 501",children:[(0,s.jsx)("title",{children:"Bluesky butterfly logo"}),(0,s.jsx)("path",{fill:"currentColor",d:"M123.121 33.664C188.241 82.553 258.281 181.68 284 234.873c25.719-53.192 95.759-152.32 160.879-201.21C491.866-1.611 568-28.906 568 57.947c0 17.346-9.945 145.713-15.778 166.555-20.275 72.453-94.155 90.933-159.875 79.748C507.222 323.8 536.444 388.56 473.333 453.32c-119.86 122.992-172.272-30.859-185.702-70.281-2.462-7.227-3.614-10.608-3.631-7.733-.017-2.875-1.169.506-3.631 7.733-13.43 39.422-65.842 193.273-185.702 70.281-63.111-64.76-33.89-129.52 80.986-149.071-65.72 11.185-139.6-7.295-159.875-79.748C9.945 203.659 0 75.291 0 57.946 0-28.906 76.135-1.612 123.121 33.664Z"})]})})})]}),(0,s.jsxs)("section",{className:"bsky-post-content",children:[(0,s.jsx)("p",{children:a.text}),(null==o?void 0:o.external)&&(0,s.jsx)("figure",{children:(0,s.jsx)("img",{src:o.external.thumb,alt:o.external.description||"Embedded image"})})]}),(0,s.jsxs)("footer",{children:[(0,s.jsx)("div",{className:"publication-time",children:c.createdAt&&(0,s.jsxs)("time",{dateTime:c.createdAt,children:[new Date(c.createdAt).toLocaleDateString("de-DE",{day:"2-digit",month:"short",year:"numeric"})," ",(0,i.__)("um","rrze-bluesky")," ",new Date(c.createdAt).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})]})}),(0,s.jsx)("hr",{}),(0,s.jsxs)("div",{className:"bsky-stat-section",children:[(0,s.jsxs)("div",{className:"bsky-stat-icons",children:[(0,s.jsxs)("div",{className:"bsky-like-info",children:[(0,s.jsx)("svg",{className:"bsky-like-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{fill:"currentColor",d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"})})," ",f]}),(0,s.jsxs)("div",{className:"bsky-retweet-info",children:[(0,s.jsx)("svg",{className:"bsky-retweet-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:(0,s.jsx)("path",{fill:"currentColor",d:"M272 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-112 0c-17.7 0-32-14.3-32-32l0-128 32 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-64-64c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l32 0 0 128c0 53 43 96 96 96l112 0zM304 96c-17.7 0-32 14.3-32 32s14.3 32 32 32l112 0c17.7 0 32 14.3 32 32l0 128-32 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8l-32 0 0-128c0-53-43-96-96-96L304 96z"})})," ",x]}),(0,s.jsx)("div",{className:"bsky-comment-info",children:(0,s.jsx)("a",{href:h(c.handle,n),children:(0,s.jsx)("svg",{className:"bsky-reply-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{fill:"currentColor",d:"M64 0C28.7 0 0 28.7 0 64L0 352c0 35.3 28.7 64 64 64l96 0 0 80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416 448 416c35.3 0 64-28.7 64-64l0-288c0-35.3-28.7-64-64-64L64 0z"})})})})]}),(0,s.jsx)("div",{className:"bsky-reply",children:(0,s.jsxs)("a",{href:h(c.handle,n),className:"bsky-reply-count",children:[(0,i.__)("Read","rrze-bluesky")," ",u," ",(0,i.__)("replies on Bluesky","rrze-bluesky")]})})]})]})]},l||r)}))}):(0,s.jsx)("p",{children:"No feed data available."})}function x(e){return"https://bsky.app/profile/".concat(e)}function f(e,s){var r=s.split("/").pop()||"";return"https://bsky.app/profile/".concat(e,"/post/").concat(r)}function p(e){var r=e.uri,t=l((0,c.useState)(null),2),n=t[0],a=t[1],d=l((0,c.useState)(null),2),h=d[0],u=d[1],p=l((0,c.useState)(!1),2),m=p[0],j=p[1];if((0,c.useEffect)((function(){j(!0),u(null);var e="/rrze-bluesky/v1/post?uri=".concat(encodeURIComponent(r));o()({path:e}).then((function(e){console.log(e),a(e)})).catch((function(e){u(e)})).finally((function(){j(!1)}))}),[r]),m)return(0,s.jsx)("p",{children:"Loading post data..."});if(h)return(0,s.jsxs)("p",{children:["Error: ",h.message]});if(!n)return(0,s.jsx)("p",{children:"No post data found."});var y=n.author,v=n.record,b=n.embed,w=n.likeCount,g=n.replyCount,k=n.repostCount;return(0,s.jsxs)("article",{className:"bsky-post",children:[(0,s.jsxs)("header",{children:[(0,s.jsxs)("div",{className:"author-information",children:[(0,s.jsx)("a",{href:x(y.handle),children:(0,s.jsx)("img",{src:y.avatar,alt:y.displayName})}),(0,s.jsxs)("div",{className:"author-name",children:[(0,s.jsx)("h3",{children:(0,s.jsx)("a",{href:x(y.handle),children:y.displayName})}),(0,s.jsx)("p",{children:(0,s.jsxs)("a",{href:x(y.handle),children:["@",y.handle]})})]})]}),(0,s.jsx)("div",{className:"bsky-branding",children:(0,s.jsx)("a",{href:x(y.handle),children:(0,s.jsxs)("svg",{className:"bsky-logo",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 568 501",children:[(0,s.jsx)("title",{children:"Bluesky butterfly logo"}),(0,s.jsx)("path",{fill:"currentColor",d:"M123.121 33.664C188.241 82.553 258.281 181.68 284 234.873c25.719-53.192 95.759-152.32 160.879-201.21C491.866-1.611 568-28.906 568 57.947c0 17.346-9.945 145.713-15.778 166.555-20.275 72.453-94.155 90.933-159.875 79.748C507.222 323.8 536.444 388.56 473.333 453.32c-119.86 122.992-172.272-30.859-185.702-70.281-2.462-7.227-3.614-10.608-3.631-7.733-.017-2.875-1.169.506-3.631 7.733-13.43 39.422-65.842 193.273-185.702 70.281-63.111-64.76-33.89-129.52 80.986-149.071-65.72 11.185-139.6-7.295-159.875-79.748C9.945 203.659 0 75.291 0 57.946 0-28.906 76.135-1.612 123.121 33.664Z"})]})})})]}),(0,s.jsxs)("section",{className:"bsky-post-content",children:[(0,s.jsx)("p",{children:v.text}),(null==b?void 0:b.external)&&(0,s.jsx)("figure",{children:(0,s.jsx)("img",{src:b.external.thumb,alt:b.external.description||"Embedded image"})})]}),(0,s.jsxs)("footer",{children:[(0,s.jsx)("div",{className:"publication-time",children:y.createdAt&&(0,s.jsxs)("time",{dateTime:y.createdAt,children:[new Date(y.createdAt).toLocaleDateString("de-DE",{day:"2-digit",month:"short",year:"numeric"})," ",(0,i.__)("um","rrze-bluesky")," ",new Date(y.createdAt).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})]})}),(0,s.jsx)("hr",{}),(0,s.jsxs)("div",{className:"bsky-stat-section",children:[(0,s.jsxs)("div",{className:"bsky-stat-icons",children:[(0,s.jsxs)("div",{className:"bsky-like-info",children:[(0,s.jsx)("svg",{className:"bsky-like-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{fill:"currentColor",d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"})})," ",w]}),(0,s.jsxs)("div",{className:"bsky-retweet-info",children:[(0,s.jsx)("svg",{className:"bsky-retweet-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:(0,s.jsx)("path",{fill:"currentColor",d:"M272 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-112 0c-17.7 0-32-14.3-32-32l0-128 32 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-64-64c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l32 0 0 128c0 53 43 96 96 96l112 0zM304 96c-17.7 0-32 14.3-32 32s14.3 32 32 32l112 0c17.7 0 32 14.3 32 32l0 128-32 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8l-32 0 0-128c0-53-43-96-96-96L304 96z"})})," ",k]}),(0,s.jsx)("div",{className:"bsky-comment-info",children:(0,s.jsx)("a",{href:f(y.handle,n.uri),children:(0,s.jsx)("svg",{className:"bsky-reply-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{fill:"currentColor",d:"M64 0C28.7 0 0 28.7 0 64L0 352c0 35.3 28.7 64 64 64l96 0 0 80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416 448 416c35.3 0 64-28.7 64-64l0-288c0-35.3-28.7-64-64-64L64 0z"})})})})]}),(0,s.jsx)("div",{className:"bsky-reply",children:(0,s.jsxs)("a",{href:f(y.handle,n.uri),className:"bsky-reply-count",children:[(0,i.__)("Read","rrze-bluesky")," ",g," ",(0,i.__)("replies on Bluesky","rrze-bluesky")]})})]})]})]})}var m=JSON.parse('{"UU":"rrze-bluesky/bluesky"}');(0,r.registerBlockType)(m.UU,{icon:{src:(0,s.jsxs)("svg",{id:"Ebene_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[(0,s.jsx)("rect",{x:"60.05",y:"115.69",width:"112.94",height:"280.62",rx:"5.73",ry:"5.73",fill:"evenodd",strokeWidth:"0"}),(0,s.jsx)("rect",{x:"199.53",y:"115.69",width:"112.94",height:"280.62",rx:"5.73",ry:"5.73",fill:"evenodd",strokeWidth:"0"}),(0,s.jsx)("rect",{x:"339.01",y:"115.69",width:"112.94",height:"280.62",rx:"5.73",ry:"5.73",fill:"evenodd",strokeWidth:"0"})]})},__experimentalLabel:function(e,s){var r=s.context,t=e.title;if("list-view"===r&&t)return t},edit:function(){var e=(0,t.useBlockProps)();return(0,s.jsxs)("div",Object.assign({},e,{children:[(0,s.jsx)(u,{}),(0,s.jsx)(p,{uri:""})]}))},save:function(e){var r=e.attributes,n=t.useBlockProps.save();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",Object.assign({},n,{children:(0,s.jsxs)("h2",{children:["Hello World! ",r.title]})}))})}})}();